**Цели сборки**

- Преобразование исходного кода (`TS`, `ESNext`, `Vue`, `PCSS`) в артефакты для продакшена.
    
- Оптимизация размера и количества файлов (`bundling`, `minify`, `tree-shaking`, `code splitting`).
    
- Подготовка разных сборок: `dev`, `stage`, `prod`.
    
- Единый стандартизованный пайплайн, который легко гонять через `CI/CD`.
    

---

**Основные этапы пайплайна**

1. `Lint` и форматирование
    
    - `ESLint`, `Stylelint`, форматтер (`Prettier`).
        
    - Жёсткое падение сборки при нарушении правил.
        
2. Трансляция кода
    
    - `TypeScript` → `JS`.
        
    - Трансформация через `Babel` под целевые браузеры/Node.
        
3. Сборка модулей
    
    - Объединение модулей (`import/export`) в один или несколько бандлов.
        
    - Обработка `Vue`-компонентов (`.vue`), стилей (`.css`, `pcss`, `scss`), ассетов.
        
4. Оптимизация
    
    - `minify` JS/CSS.
        
    - `tree-shaking` — удаление неиспользуемого кода.
        
    - `code splitting` — разделение по чанкам (страницы, фичи).
        
    - Генерация `source maps` (настроено отдельно для dev/prod).
        
5. Подготовка ассетов
    
    - Оптимизация изображений.
        
    - Копирование статических файлов.
        
    - Версионирование (`content hash`) для кэширования.
        
6. Публикация артефактов
    
    - Выкладка в `artifact storage`/`registry`.
        
    - Передача в `Docker image` или в статический хостинг.
        

---

**Инструменты по задачам**

|Задача|Инструменты|
|---|---|
|Сборка фронтенда|`Webpack`, `Vite`, `Rollup`, `esbuild`|
|Трансляция `TS` / `ESNext`|`tsc`, `Babel`|
|Запуск шагов|`npm scripts`, `pnpm`, `yarn`|
|Проверки качества|`ESLint`, `Stylelint`, `Prettier`|
|Тесты|`Jest`, `Vitest`, `Playwright`|
|CI-пайплайны|`GitLab CI`, `GitHub Actions` и др.|

---

**Типы сборок**

- `dev`
    
    - Быстрая сборка, минимум оптимизаций.
        
    - Включены `source maps`, `HMR` (для `Vite`/`Webpack dev server`).
        
- `stage`
    
    - Близко к `prod`, но с расширенной диагностикой.
        
    - Используется для ручного и интеграционного тестирования.
        
- `prod`
    
    - Максимальная оптимизация, минификация, агрессивное кэширование.
        
    - Ограниченные `source maps` (или вынесены в отдельный приватный хостинг).
        

---

**Конфигурация сборки**

- Работа с `.env` / переменными окружения (`MODE`, `API_URL`, `FEATURE_FLAGS`).
    
- Разделение конфигов по окружениям: `webpack.dev.js` / `webpack.prod.js`, `vite.config.ts` с разными `define`/`plugins`.
    
- Явное определение `target` (браузеры/Node).
    
- Структура выходного каталога (`/dist`, `/build`), маски имён файлов (`[name].[contenthash].js`).
    

---

**Оптимизация и производительность сборки**

- `cache` для `TS`, `Babel`, `ESLint`.
    
- Инкрементальная сборка, `watch`-режим.
    
- Параллельное выполнение задач в `CI`.
    
- Разделение бандлов по доменам (vendor, core, feature-модули).
    

---

**Что ожидают от senior по теме**

- Способен спроектировать полный пайплайн сборки под проект (`frontend` + `backend`).
    
- Понимает, где использовать `Vite`, где оставить `Webpack`.
    
- Умеет читать и править конфиги, а не только копировать.
    
- Умеет объяснить влияние каждой оптимизации на размер бандла, скорость сборки и время загрузки.