Рендер — это процесс преобразования HTML, CSS и JS в визуальное изображение на экране. Он состоит из нескольких строгих этапов, которые выполняются последовательно и частично могут пересчитываться при изменениях.

**1. Парсинг HTML → DOM**  
Браузер читает HTML потоково и строит дерево DOM.  
`<script>` без `defer/async` блокирует этот процесс, пока JS не выполнится.

**2. Парсинг CSS → CSSOM**  
Загружаются все CSS-файлы, применяется каскад и специфичность.  
CSS блокирует рендеринг (но не построение DOM), пока CSSOM не будет готов.

**3. Объединение DOM + CSSOM → Render Tree**  
Создаётся дерево, в котором присутствуют только видимые элементы.  
Например, `display: none` в Render Tree не попадают.

**4. Layout (Reflow)**  
Расчёт геометрии: размеры, позиции, правила flex/grid, вычисление зависимых размеров (`%`, `auto`).  
Это самый дорогой этап: изменения в layout могут триггерить его повторно.

**5. Painting**  
Отрисовка границ, фона, текста, теней, изображений.  
Каждый узел превращается в набор растровых команд.

**6. Compositing**  
Слои объединяются и выводятся на экран.  
Трансформации (`transform`, `opacity`) работают здесь и не требуют layout/paint.

**Когда происходит повторный рендер**

- Изменение стилей, влияющих на геометрию (например, `width`, `padding`) → **layout + paint + composite**.
    
- Изменение только визуальных свойств (`color`, `background`) → **paint + composite**.
    
- Изменение `transform` или `opacity` → только **composite** (самый дешёвый вариант).
    
- Изменение DOM (добавление/удаление элемента) → пересборка части дерева и повторный layout.
    

**Практические выводы**

- Избегать частого чтения/изменения layout-свойств в циклах (`offsetTop`, `clientWidth`).
    
- Для анимаций использовать `transform` и `opacity`.
    
- Минимизировать inline-скрипты, мешающие парсингу.
    
- Группировать стильовые изменения (CSS classes вместо множества свойств).
    

Рендер — ключевой процесс, который напрямую влияет на производительность интерфейса, плавность анимаций и скорость загрузки страницы.