DOM — это дерево, которое браузер строит на основе HTML-кода. Каждый узел — тег, текст или комментарий.  
CSSOM — дерево стилей, которое браузер формирует из всех подключённых CSS-файлов и встроенных стилей.

Оба дерева нужны для рендеринга: браузер объединяет DOM и CSSOM в render tree, затем выполняет layout и paint.

**Как формируется DOM**

- Браузер читает HTML потоково.
    
- Каждая открывающая и закрывающая нода формирует структуру дерева.
    
- Скрипты без `defer`/`async` блокируют парсинг HTML — выполнение JS останавливает построение DOM.
    

**Как формируется CSSOM**

- Загружаются все CSS-файлы из `<link>` и встроенные стили.
    
- CSS-файлы блокируют рендеринг, пока не будут загружены и обработаны.
    
- Media queries могут повлиять на момент включения стилей (например, `media="print"`).
    

**Важные правила загрузки**

- HTML строится последовательно, но JS без `defer` остановит парсер.
    
- CSS блокирует рендеринг, но не блокирует построение DOM.
    
- JS, который зависит от стилей (например, вычисляет размеры), должен выполняться после построения CSSOM.
    

**Порядок загрузки в реальном HTML**

1. HTML загружается → строится DOM.
    
2. Параллельно загружаются CSS-файлы.
    
3. Рендеринг страницы откладывается, пока CSS не загружен.
    
4. Если встречается `<script>` без `defer/async` — выполнение JS блокирует DOM.
    
5. Когда DOM и CSSOM готовы → формируется render tree → layout → paint.
    

**Практические выводы**

- Всегда использовать `defer` для скриптов, влияющих на интерфейс.
    
- Хранить критические стили inline, остальные подключать после.
    
- Понимать, что CSS по умолчанию «блокирует рендер», а JS — «блокирует DOM».
    

DOM и CSSOM — фундамент рендеринга, и грамотное управление загрузкой критически влияет на скорость отображения страницы.